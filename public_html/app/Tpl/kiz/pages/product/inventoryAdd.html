
{include file="inc/header.html"}

<!-- 标题 -->
<div class="article-header">
    <div class="center-block w1200">
        <h1><span id="command-type-name">新增</span>生产入库单</h1>

        <div class="btn-wrap pull-right tar">
            <a class="btn-link ml10"  id="btnSave" function="$.doSave"
               args="{formId:'baseInfoForm',gridId:'grid',url:'/scm_kry/asn/product/save',
               customValidator:'$.detailsValidator',gridDataId:'details',submitCallback:'$.saveCallback'}">保存</a>
            <a code="scm:button:production:si:confirm" class="btn-link ml10"  id="btnConfirm" function="$.doConfirmOrder"
               args="{formId:'baseInfoForm',gridId:'grid',url:'/scm_kry/asn/product/confirm',
               customValidator:'$.detailsValidator',gridDataId:'details',submitCallback:'$.confirmCallback'}">确认</a>
            <a class="btn-link ml10" id="btnCancel" onclick="$.notifyLeaving('/scm_kry/asn/product/index');">返回</a>
        </div>
    </div>
</div>

<div class="center-block panel-group" id="accordion">
    <div class="panel" style="padding:0; margin-top: 10px;">
        <form method="post" action="/scm_kry/asn/product/save" id="baseInfoForm">
            <!-- 基本信息 start -->
            <div class="panel-heading">
                <h3 class="panel-title"><em>基本信息</em></h3>
            </div>

            <!-- hidden start -->
            <input type="hidden" id="id" name="id" value="">
            <input type="hidden" class="form-control" id="asnNo" name="asnNo" value="ZR201705090002"/>
            <input type="hidden" id="warehouseName" name="warehouseName" value=""/>
            <!-- hidden end -->
            <div class="panel-body">
                <div class="clear">
                    <div class="pull-left">
                        <dl class="panel-item">
                            <dt><label for="asnNoView">单据号<strong class="red vam"> *</strong></label></dt>
                            <dd class="positionRelative">
                                <!--提示红点样式，默认是修改样式 -->

                                <div class="pull-left w240">
                                    <input type="text" class="form-control" id="asnNoView"
                                           name="asnNoView" value="ZR201705090002"
                                           placeholder="系统生成单据号" data-type="word" maxlength="14"
                                           disabled/>
                                </div>

                                <div class="wrong"></div>
                            </dd>
                        </dl>
                    </div>

                    <div class="pull-left">
                        <dl class="panel-item">
                            <dt><label for="senderId">生产模板<strong class="red vam"> *</strong></label></dt>
                            <dd class="positionRelative">
                                <!--提示红点样式，默认是修改样式 -->

                                <div class="pull-left w240">
                                    <select id="senderId" name="senderId" class="{required:true}">





                                        <option value="">请选择生产模板</option>


                                        <option value="4926" >默认生产模板</option>

                                        <option value="24870" >就看见</option>

                                        <option value="25514" >77777</option>

                                        <option value="25515" >火锅生产</option>

                                        <option value="25628" >11111</option>



                                    </select>
                                </div>

                                <div class="wrong"></div>
                            </dd>
                        </dl>
                    </div>

                    <div class="pull-left">
                        <dl class="panel-item">
                            <dt><label for="warehouseId">入库仓库<strong class="red vam"> *</strong></label></dt>
                            <dd class="positionRelative">


                                <div class="pull-left w240 search-box">
                                    <select id="warehouseId" name="warehouseId" class="{required:true}">




                                        <option value="">请选择入库仓库</option>

                                        <option value="9591" >21211111111111111</option>

                                        <option value="13260" >饮品仓</option>

                                        <option value="13261" >酒水仓</option>

                                        <option value="13262" >原材料仓</option>

                                        <option value="14838" >4号库</option>

                                        <option value="14839" >5号库</option>

                                        <option value="38900" >测试1</option>

                                        <option value="38901" >测试2</option>

                                        <option value="38902" >测试3</option>

                                        <option value="38903" >测试4</option>

                                        <option value="38904" >测试5</option>



                                    </select>
                                </div>

                                <div class="wrong"></div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </form>

        <!-- 基本信息 end -->

        <!-- 单据明细信息 start -->
        <div class="panel-heading">
            <h3 class="panel-title"><em>单据明细</em></h3>
        </div>


        <div id="filterGridDiv"></div>

        <div class="panel-body">

            <div class="inventoryTotal mr15">
                <span>入库数量合计：<span id="qtySum">0</span></span>
                <span>入库金额合计：<span id="amountSum">￥0</span></span>
            </div>

            <div class="mt10 clear detail-grid">
                <!-- grid begin -->
                <table id="grid"></table>
                <!-- grid end -->
            </div>
        </div>
    </div>
    <!-- 单据明细信息 end -->
</div>

<!-- 单据作业 end -->
<script src="/app/Tpl/kiz/js/scm_kry/js/scm.js?v=20170503_161146"></script>

<script type="text/javascript" src="/app/Tpl/kiz/js/scm_kry/js/scm-filterGridData.js?v=20170503_161146"></script>
<script type="text/javascript" src="/app/Tpl/kiz/js/scm_kry/js/product/asn-product.js?v=20170503_161146"></script>
<script>
    $(function() {
        var opts = {
            urlRoot : "/scm_kry/asn/product",
            commandType : 1,
            gridData : eval([]),
            isTempEnable : true,
            currentSavedTempId : '',
            disableTempId : '',
            disableTempGridData : eval([]),
            savedGridData : eval([])
        };

        asnProduct._init(opts);


        var j = {
            gridId: 'grid',
            warehouseSelectId: 'warehouseId'
        };

        refreshInventoryQty._init(j); // 仓库切换时，刷新库存
    });
</script>
{include file="inc/footer.html"}

</body>
</html>